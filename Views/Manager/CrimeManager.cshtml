@model Miljoboven.Models.ViewModels.ManagerViewModel

@{
    Layout = "_ManagerLayout";
}

<h2>Detaljer för ärendet</h2>
<p class="info">Du är inloggad som avdelningschef</p>

@await Component.InvokeAsync("Errand", new { errandId = Model.Errand.ErrandId })

<section id="bottomColumn">
    <h3>Redigera ärende</h3>
    <form method="post" asp-controller="Manager" asp-action="HandleErrand" asp-route-errandId="@Model.Errand.ErrandId">
        
        <p>
            <label for="investigator">Ange handläggare:</label>
            <select id="investigator" name="employeeId" class="form-control">
                <option value="">Välj</option>
                @foreach (var investigator in Model.Investigators)
                {
                    
                        <option value="@investigator.EmployeeId">@investigator.EmployeeName</option>
                    
                }
            </select>
        </p>

        <p>
            <input type="checkbox" id="noAction" name="noAction" value="true" />
            <label for="noAction">Ingen åtgärd:</label>
            <input type="text" id="reason" name="reason" placeholder="Ange motivering" class="form-control" />
        </p>

        <p><input class="button" type="submit" value="Spara" /></p>
    </form>
    
</section>
